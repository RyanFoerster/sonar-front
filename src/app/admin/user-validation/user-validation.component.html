<div class="px-5 flex flex-col gap-5">
  @if(usersPending().length > 0) {
    <hlm-table class="overflow-x-auto p-4 bg-gray-sonar rounded-xl shadow-lg">
      <p class="font-bold px-4 text-sm">Validation utilisateur</p>
      <div class="overflow-auto touch-none">
        <hlm-trow class="flex ">
          <hlm-th class="w-32 lg:w-48 font-bold text-[10px]">ID utilisateur</hlm-th>
          <hlm-th class="w-44 lg:w-48 font-bold  text-[10px]">E-mail</hlm-th>
          <hlm-th class="w-48 font-bold text-[10px]">Projet</hlm-th>
        </hlm-trow>
        @for (user of usersPending(); track user.id) {
          <hlm-trow class="flex border-none relative sm:flex-row md:flex md:justify-between">
            <div class="flex">
              <hlm-td class="w-32 lg:w-48 text-[10px]">{{ user.id }}</hlm-td>
              <hlm-td class="w-44 lg:w-48 text-[10px]">{{ user.email }}</hlm-td>
              <hlm-td class="w-48 text-[10px]">{{ user.username }}</hlm-td>
            </div>

            <hlm-td class="hidden md:flex md:gap-2 md:justify-end">
              <button class="rounded-full pt-0 pb-0 h-auto bg-red-600 text-[10px]" hlmBtn (click)="deleteUser(user.id)">Refuser</button>
              <button class="rounded-full pt-0 pb-0 h-auto text-[10px]" hlmBtn (click)="toggleActiveUser(user)">Accepter
              </button>
            </hlm-td>
          </hlm-trow>

          <div class="mb-3 w-auto flex justify-end sticky gap-2 bottom-0 left-0 md:hidden">
            <button class="rounded-full pt-0 pb-0 h-auto bg-red-600 text-[10px]" hlmBtn (click)="deleteUser(user.id)">Refuser</button>
            <button class="rounded-full pt-0 pb-0 h-auto text-[10px]" hlmBtn (click)="toggleActiveUser(user)">Accepter
            </button>
          </div>

        }
      </div>
    </hlm-table>
  } @else {
    <p class="text-xl text-red-400">Aucun utilisateur en attente de validation</p>
  }

</div>
